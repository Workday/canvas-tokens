import {Markdown, Meta, Unstyled} from '@storybook/blocks';
import {NavCard} from '../../components/NavCard';
import {DeprecatedTokens} from './examples/DeprecatedTokens';

<Meta title="Guides/Migartion [v2 > v3]/What's New in v3" />
<Unstyled>

# What's New in v3

We've overhauled our color system to align with Workday's new brand identity, while also making
improvements to our underlying colors to be more functional, accessible, and extensible. These
updates remap our existing brand and system tokens to our new color palettes. We also introduce new
token variants that provide better cover for the use cases of Workday's diverse products.

### RGBA to OKLCH

Colors are designed using `oklch`, a perceptually uniform color space. `oklch` ensures that two
colors with the same lightness will appear equal in brightness â€“ a longstanding issue of traditional
color spaces like RGB and HSL.

- More predictable contrast ratios
- Scales well with theming, modes
- Device and gamut independent

<NavCard
  title="Learn more about OKLCH"
  link="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/oklch"
/>

### New Base Palette

To reduce ambiguity over color values, Base colors have been renamed to use common terms (like
`red.600`) that are easier to understand for everyone. The color scale has been increased from 5 to
13 steps. Steps in the new scale go from 0 (white) to 1000 (black), each step being designed for at
least one use case. Colors are designed to feel perceptually balanced - meaning colors with the same
step number (ex. `red.200` and `blue.200`) will feel similar in brightness and saturation.

<NavCard
  title="Base Tokens"
  description="Check newest palette"
  link="/?path=/docs/docs-base-tokens--docs#color"
/>

#### Brand and System Tokens

Brand and system tokens have been revised to offer improved flexibility and clarity. As part of this
update, many legacy color values have been replaced with new palette colors, expanding the palette
to promote consistency and accessibility throughout the system. The main changes are:

- The brand token set has been extended to provide more flexibility and coverage for common use
  cases.
- New system color groups have been added: `ai`, `info` and `transparent`, other groups have been
  extended by new tokens.
- The fully transparent color changed from `sys.color.bg.transparent` to
  `sys.color.bg.transparen.default`.
- New system shape token has been added, `system.shape.x1Half`, to support 6px value as border
  radius.

<NavCard title="All changes" description="Check newest palette" />

<DeprecatedTokens />

#### Canvas Kit React compatability

> **Note:** We suggest to use v3 tokens together with Canvas Kit React v14 for better brand
> alignment.

> **Important:** The previous palette "fruity" colors are deprecated and mapped to use new palette
> colors. Be aware that the color scale in v3 uses `oklch` which is different to `rgb` and the new
> color of deprecated token can be not 1:1 replacement of the old color.

</Unstyled>
